{"version":3,"sources":["./src/app/pages/myadress2/myadress.page.html","./src/app/pages/myadress2/myadress.module.ts","./src/app/pages/myadress2/myadress.page.scss","./src/app/pages/myadress2/myadress.page.ts"],"names":[],"mappings":"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","file":"pages-myadress2-myadress-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"dark\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title> Adresse de livraison </ion-title>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar class=\\\"ion-padding-start\\\" color=\\\"bg-light\\\" tappable (click)=\\\"addAddress()\\\">\\r\\n      <ion-icon name=\\\"add\\\" slot=\\\"start\\\" ></ion-icon>\\r\\n      <ion-label>  Ajouter une nouvelle adresse</ion-label>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content color=\\\"bg-light\\\">\\r\\n  \\r\\n  <div *ngIf=\\\"address?.length > 0\\\">\\r\\n    <ion-col *ngFor=\\\"let adr of address\\\" class=\\\"ion-padding-vertical\\\">\\r\\n        <ion-item lines=\\\"none\\\">\\r\\n          <ion-label>\\r\\n             {{ adr.adress }}\\r\\n          </ion-label>\\r\\n          <ion-icon slot=\\\"end\\\" ios=\\\"ios-create\\\" md=\\\"md-create\\\"  tappable routerLink=\\\"/update-address/{{adr.id}}\\\"></ion-icon>\\r\\n          <ion-icon slot=\\\"end\\\" name=\\\"done-all\\\" color=\\\"dark\\\" (click)=\\\"setDefault(adr.id , adr.quartier , adr.ville , adr.adress)\\\"></ion-icon>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer padding>\\r\\n  <ion-button size=\\\"default\\\" expand=\\\"block\\\" color=\\\"dark\\\"  (click)=\\\"goValidCommand()\\\">\\r\\n    <ion-text color=\\\"light\\\"> Suivant </ion-text>\\r\\n  </ion-button>\\r\\n</ion-footer>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { MyAdressPage } from './myadress.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MyAdressPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule.forChild(),\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [MyAdressPage]\r\n})\r\nexport class MyAdressPageModule {}\r\n","module.exports = \":host ion-content {\\n  --background: linear-gradient(-135deg, var(--ion-color-medium), var(--ion-color-light)) ;\\n}\\n\\n.profile ion-card {\\n  width: 100%;\\n  border-radius: 0;\\n  background-color: #fff;\\n}\\n\\n.profile ion-card ion-card-content {\\n  padding: 32px;\\n  background-color: var(--ion-color-primary);\\n  color: #fff;\\n  text-align: center;\\n}\\n\\n.profile ion-card ion-card-content img {\\n  height: 128px;\\n  width: 128px;\\n  border-radius: 50%;\\n  border: solid 4px #fff;\\n  display: inline;\\n  box-shadow: 0 0 28px rgba(255, 255, 255, 0.65);\\n}\\n\\n.profile ion-card ion-card-content h1 {\\n  margin-top: 0.5rem;\\n}\\n\\n.profile ion-item ion-input {\\n  border-bottom: 1px solid var(--ion-color-tertiary);\\n}\\n\\n.profile ion-buttom button {\\n  margin: 0;\\n}\\n\\n.profile .position {\\n  bottom: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3JhcGgvRG9jdW1lbnRzL0JlbmluUmVzdG9vL2Zvb2Rpb25pYzItc2luZ2xlLTIwMTkwODE3L3NyYy9hcHAvcGFnZXMvbXlhZHJlc3MyL215YWRyZXNzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvbXlhZHJlc3MyL215YWRyZXNzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLHdGQUFBO0FDQUo7O0FES0U7RUFDRSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtBQ0ZKOztBREdJO0VBQ0UsYUFBQTtFQUNBLDBDQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FDRE47O0FESU07RUFDRSxhQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBRUEsc0JBQUE7RUFDQSxlQUFBO0VBQ0EsOENBQUE7QUNIUjs7QURNTTtFQUVFLGtCQUFBO0FDTFI7O0FEa0JJO0VBQ0Usa0RBQUE7QUNoQk47O0FEcUJJO0VBQ0UsU0FBQTtBQ25CTjs7QUR1QkU7RUFDRSxTQUFBO0FDckJKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbXlhZHJlc3MyL215YWRyZXNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICBpb24tY29udGVudCB7XHJcbiAgICAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgtMTM1ZGVnLCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKSwgdmFyKC0taW9uLWNvbG9yLWxpZ2h0KSlcclxuICB9XHJcbn1cclxuXHJcbi5wcm9maWxlIHtcclxuICBpb24tY2FyZCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgaW9uLWNhcmQtY29udGVudCB7XHJcbiAgICAgIHBhZGRpbmc6IDMycHg7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxuICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgLy8gcGFkZGluZy1ib3R0b206IDI4cHg7XHJcblxyXG4gICAgICBpbWcge1xyXG4gICAgICAgIGhlaWdodDogMTI4cHg7XHJcbiAgICAgICAgd2lkdGg6IDEyOHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAvLyBtYXJnaW4tdG9wOiAtMTAwcHg7XHJcbiAgICAgICAgYm9yZGVyOiBzb2xpZCA0cHggI2ZmZjtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XHJcbiAgICAgICAgYm94LXNoYWRvdzogMCAwIDI4cHggcmdiYSgyNTUsMjU1LDI1NSwgLjY1KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaDEge1xyXG4gICAgICAgIC8vIGZvbnQtc2l6ZTogMi41cmVtO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IC41cmVtO1xyXG4gICAgICAgIC8vIGNvbG9yOiAjZmZmO1xyXG4gICAgICB9XHJcblxyXG4gICAgLy8gICBoMyB7XHJcbiAgICAvLyAgICAgZm9udC1zaXplOiAxLjhyZW07XHJcbiAgICAvLyAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAvLyAgIH1cclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpb24taXRlbSB7XHJcbiAgICBpb24taW5wdXQge1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXRlcnRpYXJ5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlvbi1idXR0b20ge1xyXG4gICAgYnV0dG9uIHtcclxuICAgICAgbWFyZ2luOiAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnBvc2l0aW9uIHtcclxuICAgIGJvdHRvbTogMDtcclxuICB9XHJcbn1cclxuIiwiOmhvc3QgaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgtMTM1ZGVnLCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKSwgdmFyKC0taW9uLWNvbG9yLWxpZ2h0KSkgO1xufVxuXG4ucHJvZmlsZSBpb24tY2FyZCB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xufVxuLnByb2ZpbGUgaW9uLWNhcmQgaW9uLWNhcmQtY29udGVudCB7XG4gIHBhZGRpbmc6IDMycHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgY29sb3I6ICNmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5wcm9maWxlIGlvbi1jYXJkIGlvbi1jYXJkLWNvbnRlbnQgaW1nIHtcbiAgaGVpZ2h0OiAxMjhweDtcbiAgd2lkdGg6IDEyOHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJvcmRlcjogc29saWQgNHB4ICNmZmY7XG4gIGRpc3BsYXk6IGlubGluZTtcbiAgYm94LXNoYWRvdzogMCAwIDI4cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjY1KTtcbn1cbi5wcm9maWxlIGlvbi1jYXJkIGlvbi1jYXJkLWNvbnRlbnQgaDEge1xuICBtYXJnaW4tdG9wOiAwLjVyZW07XG59XG4ucHJvZmlsZSBpb24taXRlbSBpb24taW5wdXQge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXRlcnRpYXJ5KTtcbn1cbi5wcm9maWxlIGlvbi1idXR0b20gYnV0dG9uIHtcbiAgbWFyZ2luOiAwO1xufVxuLnByb2ZpbGUgLnBvc2l0aW9uIHtcbiAgYm90dG9tOiAwO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController } from '@ionic/angular';\r\nimport { TranslateProvider, AuthService ,AddressService } from '../../providers';\r\nimport { Router, NavigationExtras } from '@angular/router';\r\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\r\n\r\n@Component({\r\n  selector: 'app-myadress',\r\n  templateUrl: './myadress.page.html',\r\n  styleUrls: ['./myadress.page.scss'],\r\n})\r\nexport class MyAdressPage implements OnInit {\r\n\r\n  address: any[] = [];\r\n  token: any;\r\n  addressData: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public loadingCtrl: LoadingController,\r\n    public toastCtrl: ToastController,\r\n    private service: AddressService,\r\n    private auth: AuthService,\r\n    public route: Router,\r\n    private storage: NativeStorage,\r\n    private translate: TranslateProvider\r\n    ) { }\r\n\r\n  ngOnInit() {\r\n    this.getUserAddress()\r\n    this.getOrders()\r\n  }\r\n\r\n  getOrders() {\r\n    if(this.route.getCurrentNavigation().extras.state) {\r\n      this.addressData = this.route.getCurrentNavigation().extras.state.orders\r\n      console.log(this.addressData)\r\n    }\r\n  }\r\n\r\n\r\n  ionViewWillEnter() {\r\n   this.getUserAddress()\r\n  }\r\n\r\n  async getUserAddress() {\r\n    this.auth.getToken().then(() => {\r\n      if(this.auth.isLoggedIn) {\r\n        this.token = this.auth.token\r\n\r\n      }\r\n    })\r\n  \r\n    const loading = await this.loadingCtrl.create({\r\n      message: 'Loading...',\r\n      spinner: 'crescent',\r\n      duration: 50000\r\n    });\r\n    await loading.present()\r\n    await this.service.getUserAddress(this.token)\r\n      .subscribe(res => {\r\n        console.log(res)\r\n        this.address = res.content\r\n        this.address = JSON.parse(JSON.stringify(this.address))\r\n        loading.dismiss()\r\n      }, err => {\r\n        console.log(err)\r\n        loading.dismiss()\r\n      });\r\n  }\r\n\r\n\r\n  addAddress() {\r\n    this.navCtrl.navigateForward('/add-address')\r\n  }\r\n\r\n  async setDefault(id ,quartier ,ville ,adress) {\r\n    this.service.setDefaultAddress(id,this.token).subscribe(res => {\r\n      console.log(res)\r\n      this.storage.setItem('idDefault', id)\r\n      this.storage.setItem('quartierDefault', quartier)\r\n      this.storage.setItem('villeDefault', ville)\r\n      this.storage.setItem('adressDefault', adress)\r\n      this.getUserAddress()\r\n    }, err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  goValidCommand() {\r\n    let navExtra: NavigationExtras = {\r\n      state: {\r\n        orders : this.addressData\r\n      }\r\n    }\r\n    this.route.navigate(['validation'],navExtra)\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}