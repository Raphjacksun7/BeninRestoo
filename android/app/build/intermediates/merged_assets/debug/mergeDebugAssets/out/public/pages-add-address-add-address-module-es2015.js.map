{"version":3,"sources":["./src/app/pages/add-address/add-address.page.html","./src/app/pages/add-address/add-address.module.ts","./src/app/pages/add-address/add-address.page.scss","./src/app/pages/add-address/add-address.page.ts"],"names":[],"mappings":"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","file":"pages-add-address-add-address-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar color=\\\"dark\\\">\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-back-button></ion-back-button>\\r\\n      </ion-buttons>\\r\\n      <ion-title>Ajouter une adresse de livraison</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n\\r\\n<ion-content padding color=\\\"bg-light\\\" class=\\\"animated fadeIn\\\">\\r\\n\\r\\n  <!-- Add Address Form -->\\r\\n  <form [formGroup]=\\\"onAddAddressForm\\\" #form=\\\"ngForm\\\"  method=\\\"post\\\" class=\\\"list-form\\\">\\r\\n      <h2 ion-text margin>\\r\\n          Google Map\\r\\n      </h2>\\r\\n      <ion-button icon-left size=\\\"medium\\\" expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"goToMap()\\\" color=\\\"dark\\\" tappable>\\r\\n          <ion-icon slot=\\\"start\\\" name=\\\"pin\\\" color=\\\"light\\\"></ion-icon>\\r\\n          <ion-text color=\\\"light\\\">Selectioner un emplacement</ion-text>\\r\\n      </ion-button>\\r\\n\\r\\n      <h2 ion-text margin>\\r\\n          DÃ©tail sur cette adresse\\r\\n      </h2>\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n        <ion-label position=\\\"floating\\\">\\r\\n            Quatier\\r\\n        </ion-label>\\r\\n        <ion-input color=\\\"secondary\\\" type=\\\"text\\\" [(ngModel)]=\\\"distric\\\" formControlName=\\\"distric\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n        <ion-label position=\\\"floating\\\">\\r\\n            Ville\\r\\n        </ion-label>\\r\\n        <ion-input color=\\\"secondary\\\" type=\\\"text\\\" [(ngModel)]=\\\"city\\\" formControlName=\\\"city\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n        <ion-label position=\\\"floating\\\">\\r\\n            Adresse\\r\\n        </ion-label>\\r\\n        <ion-input color=\\\"secondary\\\" type=\\\"text\\\" [(ngModel)]=\\\"adresse\\\" formControlName=\\\"address\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n        <ion-label position=\\\"floating\\\">\\r\\n            Entreprise (Optionel)\\r\\n        </ion-label>\\r\\n        <ion-input color=\\\"secondary\\\" type=\\\"text\\\" [(ngModel)]=\\\"entreprise\\\"formControlName=\\\"entreprise\\\" ></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n        <ion-label position=\\\"floating\\\">\\r\\n            Instruction (Optionel)\\r\\n        </ion-label>\\r\\n        <ion-input color=\\\"secondary\\\" type=\\\"text\\\" [(ngModel)]=\\\"institue\\\" formControlName=\\\"institue\\\"></ion-input>\\r\\n      </ion-item>\\r\\n    </form>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer no-padding no-margin>\\r\\n  <ion-button no-padding no-margin icon-left size=\\\"large\\\" expand=\\\"full\\\" (click)=\\\"SendAddress()\\\"  color=\\\"dark\\\" [disabled]=\\\"!onAddAddressForm.valid\\\" tappable>\\r\\n    <ion-text color=\\\"light\\\">Valider cette adresse</ion-text>\\r\\n  </ion-button>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { AddAddressPage } from './add-address.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddAddressPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    TranslateModule.forChild(),\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [AddAddressPage]\r\n})\r\nexport class AddAddressPageModule {}\r\n","module.exports = \":host ion-content {\\n  --background: linear-gradient(-135deg, var(--ion-color-medium), var(--ion-color-light)) ;\\n}\\n\\n#map_canvas {\\n  width: 90%;\\n  height: 80%;\\n  border: 1px solid red;\\n}\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n#map {\\n  width: 100%;\\n  height: 70vh;\\n}\\n\\n.map-wrapper {\\n  position: relative;\\n}\\n\\n.map-wrapper #map_center {\\n  position: absolute;\\n  z-index: 99;\\n  height: 40px;\\n  width: 40px;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -21px;\\n  margin-top: -41px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3JhcGgvRG9jdW1lbnRzL0JlbmluUmVzdG9vL2Zvb2Rpb25pYzItc2luZ2xlLTIwMTkwODE3L3NyYy9hcHAvcGFnZXMvYWRkLWFkZHJlc3MvYWRkLWFkZHJlc3MucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9hZGQtYWRkcmVzcy9hZGQtYWRkcmVzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSx3RkFBQTtBQ0FKOztBRElBO0VBQ0UsVUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtBQ0RGOztBREtBO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQ0ZGOztBREtBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUNGRjs7QURLQTtFQUNFLGtCQUFBO0FDRkY7O0FESUU7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQ0ZKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRkLWFkZHJlc3MvYWRkLWFkZHJlc3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIGlvbi1jb250ZW50IHtcclxuICAgIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KC0xMzVkZWcsIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pLCB2YXIoLS1pb24tY29sb3ItbGlnaHQpKVxyXG4gIH1cclxufVxyXG5cclxuI21hcF9jYW52YXMge1xyXG4gIHdpZHRoOiA5MCU7XHJcbiAgaGVpZ2h0OiA4MCU7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG59XHJcbiBcclxuIFxyXG4jYWRkcmVzcyB7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuIFxyXG4jbWFwIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDcwdmg7XHJcbn1cclxuIFxyXG4ubWFwLXdyYXBwZXIge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuIFxyXG4gICNtYXBfY2VudGVyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDk5O1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAtMjFweDtcclxuICAgIG1hcmdpbi10b3A6IC00MXB4O1xyXG4gIH1cclxufSIsIjpob3N0IGlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoLTEzNWRlZywgdmFyKC0taW9uLWNvbG9yLW1lZGl1bSksIHZhcigtLWlvbi1jb2xvci1saWdodCkpIDtcbn1cblxuI21hcF9jYW52YXMge1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDgwJTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xufVxuXG4jYWRkcmVzcyB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbiNtYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA3MHZoO1xufVxuXG4ubWFwLXdyYXBwZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4ubWFwLXdyYXBwZXIgI21hcF9jZW50ZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5O1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA0MHB4O1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICBtYXJnaW4tbGVmdDogLTIxcHg7XG4gIG1hcmdpbi10b3A6IC00MXB4O1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgForm  , FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { LoadingController, ModalController, ToastController } from '@ionic/angular';\r\nimport { MapPage } from '../modal/map/map.page';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\nimport { AddressService, AuthService } from '../../providers'\r\n\r\n\r\n@Component({\r\n  selector: 'app-add-address',\r\n  templateUrl: './add-address.page.html',\r\n  styleUrls: ['./add-address.page.scss'],\r\n})\r\nexport class AddAddressPage implements OnInit {\r\n\r\n  public onAddAddressForm: FormGroup\r\n\r\n  location: {\r\n    latitude: number,\r\n    longitude: number\r\n  }\r\n  \r\n  private distric: any\r\n  private city: string\r\n  private adresse: string\r\n  private entreprise: string\r\n  private institue: string\r\n  token: any;\r\n  userData: any;\r\n\r\n\r\n\r\n  constructor(\r\n    public route: ActivatedRoute,\r\n    private formBuilder: FormBuilder,\r\n    public modalCtrl: ModalController,\r\n    private address: AddressService,\r\n    public toastController: ToastController,\r\n    private auth: AuthService,\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.onAddAddressForm = this.formBuilder.group({\r\n\r\n      'distric': [null, Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      'city': [null, Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      'address': [null, Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      'entreprise': [null, Validators.compose([\r\n       \r\n      ])],\r\n      'institue': [null, Validators.compose([\r\n        \r\n      ])]\r\n    })\r\n    \r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.auth.getToken().then(() => {\r\n      if(this.auth.isLoggedIn) {\r\n        this.token = this.auth.token\r\n        this.userData = this.auth.userData\r\n      }\r\n    })\r\n  }\r\n\r\n  SendAddress(){\r\n\r\n    this.address.addAddress(this.distric,this.city,this.entreprise,this.location.latitude,this.location.longitude,this.adresse,this.institue,this.token )\r\n      .subscribe( async data => {\r\n        console.log(data.content)\r\n          const toast = await this.toastController.create({\r\n            message: 'Vous avez ajouter un nouvel adresse !',\r\n            duration: 2000\r\n          })\r\n          toast.present()\r\n\r\n          }, err => {\r\n            console.log(err)\r\n          })\r\n      }\r\n\r\n   goToMap() {\r\n    this.modalCtrl.create({component: MapPage,componentProps: {location: this.location }})\r\n    .then(modal => {  \r\n       modal.onDidDismiss().then( modalData => {\r\n         if(!modalData.data) return\r\n         console.log(modalData.data)\r\n         this.location = {\r\n          latitude: modalData.data.lat,\r\n          longitude: modalData.data.lng\r\n        }\r\n      })\r\n        modal.present();\r\n    })\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":""}