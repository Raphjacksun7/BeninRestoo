{"version":3,"sources":["./src/app/pages/auth/register/register.page.html","./src/app/pages/auth/register/register.module.ts","./src/app/pages/auth/register/register.page.scss","./src/app/pages/auth/register/register.page.ts"],"names":[],"mappings":"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","file":"pages-auth-register-register-module-es2015.js","sourcesContent":["module.exports = \"<ion-content padding class=\\\"animated fadeIn login auth-page\\\">\\r\\n\\r\\n  <div class=\\\"auth-content\\\">\\r\\n    <!-- Logo -->\\r\\n    <div padding-horizontal text-center class=\\\"animated fadeInDown\\\">\\r\\n      <div class=\\\"logo\\\"></div>\\r\\n      <h3 no-margin>\\r\\n        <ion-text color=\\\"light\\\" class=\\\"fw700\\\">\\r\\n          <ion-text color=\\\"secondary\\\">Inscription</ion-text>\\r\\n        </ion-text>\\r\\n      </h3>\\r\\n    </div>\\r\\n\\r\\n    <!-- Register form -->\\r\\n    <form [formGroup]=\\\"onRegisterForm\\\" #form=\\\"ngForm\\\"  method=\\\"post\\\" class=\\\"list-form\\\">\\r\\n        <ion-grid>\\r\\n            <ion-row>\\r\\n              <ion-col>\\r\\n                  <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n                      <ion-label position=\\\"floating\\\">\\r\\n                        Nom\\r\\n                      </ion-label>\\r\\n                      <ion-input color=\\\"secondary\\\" [(ngModel)]=\\\"lastname\\\" formControlName=\\\"lName\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                    <p ion-text class=\\\"text08\\\" *ngIf=\\\"onRegisterForm.get('lName').touched && onRegisterForm.get('lName').hasError('required')\\\">\\r\\n                      <ion-text color=\\\"warning\\\">\\r\\n                        {{ 'app.label.errors.field' | translate }}\\r\\n                      </ion-text>\\r\\n                    </p>\\r\\n              </ion-col>\\r\\n              <ion-col>\\r\\n                  <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n                      <ion-label position=\\\"floating\\\">\\r\\n                        Prénom\\r\\n                      </ion-label>\\r\\n                      <ion-input color=\\\"secondary\\\" [(ngModel)]=\\\"firstname\\\" formControlName=\\\"fName\\\"></ion-input>\\r\\n                    </ion-item>\\r\\n                    <p ion-text class=\\\"text08\\\" *ngIf=\\\"onRegisterForm.get('fName').touched && onRegisterForm.get('fName').hasError('required')\\\">\\r\\n                      <ion-text color=\\\"warning\\\">\\r\\n                        {{ 'app.label.errors.field' | translate }}\\r\\n                      </ion-text>\\r\\n                    </p>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n        </ion-grid>\\r\\n\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n        <ion-label position=\\\"floating\\\">\\r\\n          <ion-icon name=\\\"mail\\\" item-start></ion-icon>\\r\\n          Email\\r\\n        </ion-label>\\r\\n        <ion-input color=\\\"secondary\\\" type=\\\"email\\\" [(ngModel)]=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <p ion-text class=\\\"text08\\\" *ngIf=\\\"onRegisterForm.get('email').touched && onRegisterForm.get('email').hasError('required')\\\">\\r\\n        <ion-text color=\\\"warning\\\">\\r\\n          {{ 'app.label.errors.field' | translate }}\\r\\n        </ion-text>\\r\\n      </p>\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n          <ion-label position=\\\"floating\\\">\\r\\n            <ion-icon ios=\\\"ios-call\\\" md=\\\"md-call\\\" item-start></ion-icon>\\r\\n            Telephone\\r\\n          </ion-label>\\r\\n          <ion-input color=\\\"secondary\\\" type=\\\"tel\\\" [(ngModel)]=\\\"tel\\\" formControlName=\\\"tel\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <p ion-text class=\\\"text08\\\" *ngIf=\\\"onRegisterForm.get('tel').touched && onRegisterForm.get('tel').hasError('required')\\\">\\r\\n          <ion-text color=\\\"warning\\\">\\r\\n            {{ 'app.label.errors.field' | translate }}\\r\\n          </ion-text>\\r\\n        </p>\\r\\n      <ion-item no-padding class=\\\"animated fadeInUp\\\">\\r\\n        <ion-label position=\\\"floating\\\">\\r\\n          <ion-icon name=\\\"lock\\\" item-start></ion-icon>\\r\\n          {{ 'app.label.password' | translate }}\\r\\n        </ion-label>\\r\\n        <ion-input color=\\\"secondary\\\" type=\\\"password\\\" [(ngModel)]=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <p ion-text color=\\\"warning\\\" class=\\\"text08\\\" *ngIf=\\\"onRegisterForm.get('password').touched && onRegisterForm.get('password').hasError('required')\\\">\\r\\n        <ion-text color=\\\"warning\\\">\\r\\n          {{ 'app.label.errors.field' | translate }}\\r\\n        </ion-text>\\r\\n      </p>\\r\\n    </form>\\r\\n\\r\\n    <div margin-top>\\r\\n      <ion-button icon-left size=\\\"medium\\\" type=\\\"submit\\\"  expand=\\\"full\\\" shape=\\\"round\\\" color=\\\"dark\\\" (click)=\\\"register()\\\" [disabled]=\\\"!onRegisterForm.valid\\\"\\r\\n        tappable>\\r\\n        <ion-icon name=\\\"log-in\\\"></ion-icon>\\r\\n        Valider\\r\\n      </ion-button>\\r\\n\\r\\n      <p text-center>\\r\\n        <ion-text>\\r\\n          Connectez-vous avec:\\r\\n        </ion-text>\\r\\n      </p>\\r\\n\\r\\n      <ion-grid class=\\\"btn-group\\\">\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"4\\\">\\r\\n            <ion-button shape=\\\"round\\\" expand=\\\"full\\\" fill=\\\"outline\\\" color=\\\"tertiary\\\">\\r\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"logo-facebook\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"4\\\">\\r\\n            <ion-button shape=\\\"round\\\" expand=\\\"full\\\" fill=\\\"outline\\\" color=\\\"tertiary\\\">\\r\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"logo-twitter\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"4\\\">\\r\\n            <ion-button shape=\\\"round\\\" expand=\\\"full\\\" fill=\\\"outline\\\" color=\\\"tertiary\\\">\\r\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"logo-googleplus\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!-- Other links -->\\r\\n    <div text-center margin-top>\\r\\n      <span (click)=\\\"goToLogin()\\\" tappable>\\r\\n        <ion-text>\\r\\n          <strong>J'ai déja un compte!</strong>\\r\\n        </ion-text>\\r\\n      </span>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegisterPage } from './register.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegisterPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [RegisterPage]\r\n})\r\nexport class RegisterPageModule {}\r\n","module.exports = \":host ion-content {\\n  --background: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3JhcGgvRG9jdW1lbnRzL0JlbmluUmVzdG9vL2Zvb2Rpb25pYzItc2luZ2xlLTIwMTkwODE3L3NyYy9hcHAvcGFnZXMvYXV0aC9yZWdpc3Rlci9yZWdpc3Rlci5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2F1dGgvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0Usa0JBQUE7QUNBSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2F1dGgvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIGlvbi1jb250ZW50IHtcclxuICAgIC0tYmFja2dyb3VuZDogI2ZmZjtcclxuICB9XHJcbn1cclxuIiwiOmhvc3QgaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6ICNmZmY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { NgForm , FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NavController, MenuController, LoadingController } from '@ionic/angular';\r\nimport { AuthService , AlertService } from '../../../providers';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.page.html',\r\n  styleUrls: ['./register.page.scss'],\r\n})\r\nexport class RegisterPage implements OnInit {\r\n  public onRegisterForm: FormGroup;\r\n  private firstname: string\r\n  private lastname: string\r\n  private email: string\r\n  private password: string\r\n  private tel: string\r\n  token: any;\r\n  userData: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public menuCtrl: MenuController,\r\n    public loadingCtrl: LoadingController,\r\n    private formBuilder: FormBuilder,\r\n    private authService: AuthService,\r\n    private alertService: AlertService\r\n  ) { }\r\n\r\n  \r\n ionViewWillEnter() {\r\n    this.menuCtrl.enable(false);\r\n  }\r\n  \r\n  ngOnInit() {\r\n    this.onRegisterForm = this.formBuilder.group({\r\n      'fName': [null, Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      'lName': [null, Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      'tel': [null, Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      'email': [null, Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      'password': [null, Validators.compose([\r\n        Validators.required\r\n      ])]\r\n    });\r\n  }\r\n\r\n\r\n  async register() {\r\n    const loader = await this.loadingCtrl.create({\r\n      message: \"Veuillez-vous partinentez s'l vous plait\",\r\n      spinner: 'crescent',\r\n      duration: 3000\r\n    });\r\n    loader.present();\r\n    let fullName = this.firstname + '  ' + this.lastname\r\n    this.authService.register(this.email, fullName , this.password , this.tel ).subscribe(\r\n      data => {\r\n        console.log(data)\r\n        this.authService.usertoken(this.email, this.password)\r\n          .subscribe(data => {\r\n            console.log(data.content)\r\n                this.authService.login(data.content.token).subscribe( data => {\r\n                  console.log(data)\r\n                  loader.onWillDismiss().then(() => {\r\n                    this.navCtrl.pop();\r\n                  })\r\n                  this.alertService.presentToast(\"Bienvenue \"+data.username)   \r\n                }, err => {\r\n                  this.alertService.presentToast(\"Il semblerait que vous ne vous êtes pas enregistré chez nous\")\r\n                  console.log(err)\r\n                  return\r\n                })\r\n              console.log(data)\r\n              return\r\n            },\r\n            error => {\r\n              this.alertService.presentToast(\"Il semblerait que vous ne vous êtes pas enregistré chez nous\")\r\n              console.log(error)\r\n              return\r\n          })\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  goToLogin() {\r\n    this.navCtrl.navigateRoot('/login');\r\n  }\r\n}\r\n"],"sourceRoot":""}