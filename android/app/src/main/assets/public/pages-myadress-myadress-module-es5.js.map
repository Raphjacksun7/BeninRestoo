{"version":3,"sources":["./src/app/pages/myadress/myadress.page.html","./src/app/pages/myadress/myadress.module.ts","./src/app/pages/myadress/myadress.page.scss","./src/app/pages/myadress/myadress.page.ts"],"names":[],"mappings":"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","file":"pages-myadress-myadress-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"dark\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title> Adresse de livraison </ion-title>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar class=\\\"ion-padding-start\\\" color=\\\"bg-light\\\" tappable (click)=\\\"addAddress()\\\">\\r\\n      <ion-icon name=\\\"add\\\" slot=\\\"start\\\" ></ion-icon>\\r\\n      <ion-label>  Ajouter une nouvelle adresse</ion-label>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content color=\\\"bg-light\\\">\\r\\n    \\r\\n    <div *ngIf=\\\"address?.length > 0\\\">\\r\\n        <ion-col *ngFor=\\\"let adr of address\\\" class=\\\"ion-padding-vertical\\\">\\r\\n            <ion-item lines=\\\"none\\\">\\r\\n              <ion-label>\\r\\n                 {{ adr.adress }}\\r\\n              </ion-label>\\r\\n              <ion-icon slot=\\\"end\\\" ios=\\\"ios-create\\\" md=\\\"md-create\\\"  tappable routerLink=\\\"/update-address/{{adr.id}}\\\"></ion-icon>\\r\\n              <ion-icon slot=\\\"end\\\" name=\\\"done-all\\\" color=\\\"dark\\\" (click)=\\\"setDefault(adr.id , adr.quartier , adr.ville , adr.adress,adr.gps_lat,adr.gps_long)\\\"></ion-icon>\\r\\n            </ion-item>\\r\\n          </ion-col>\\r\\n    </div>\\r\\n      \\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { MyAdressPage } from './myadress.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MyAdressPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule.forChild(),\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [MyAdressPage]\r\n})\r\nexport class MyAdressPageModule {}\r\n","module.exports = \":host ion-content {\\n  --background: linear-gradient(-135deg, var(--ion-color-medium), var(--ion-color-light)) ;\\n}\\n\\n.profile ion-card {\\n  width: 100%;\\n  border-radius: 0;\\n  background-color: #fff;\\n}\\n\\n.profile ion-card ion-card-content {\\n  padding: 32px;\\n  background-color: var(--ion-color-primary);\\n  color: #fff;\\n  text-align: center;\\n}\\n\\n.profile ion-card ion-card-content img {\\n  height: 128px;\\n  width: 128px;\\n  border-radius: 50%;\\n  border: solid 4px #fff;\\n  display: inline;\\n  box-shadow: 0 0 28px rgba(255, 255, 255, 0.65);\\n}\\n\\n.profile ion-card ion-card-content h1 {\\n  margin-top: 0.5rem;\\n}\\n\\n.profile ion-item ion-input {\\n  border-bottom: 1px solid var(--ion-color-tertiary);\\n}\\n\\n.profile ion-buttom button {\\n  margin: 0;\\n}\\n\\n.profile .position {\\n  bottom: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3JhcGgvRG9jdW1lbnRzL0JlbmluUmVzdG9vL2Zvb2Rpb25pYzItc2luZ2xlLTIwMTkwODE3L3NyYy9hcHAvcGFnZXMvbXlhZHJlc3MvbXlhZHJlc3MucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9teWFkcmVzcy9teWFkcmVzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSx3RkFBQTtBQ0FKOztBREtFO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7QUNGSjs7QURHSTtFQUNFLGFBQUE7RUFDQSwwQ0FBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQ0ROOztBRElNO0VBQ0UsYUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUVBLHNCQUFBO0VBQ0EsZUFBQTtFQUNBLDhDQUFBO0FDSFI7O0FETU07RUFFRSxrQkFBQTtBQ0xSOztBRGtCSTtFQUNFLGtEQUFBO0FDaEJOOztBRHFCSTtFQUNFLFNBQUE7QUNuQk47O0FEdUJFO0VBQ0UsU0FBQTtBQ3JCSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL215YWRyZXNzL215YWRyZXNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICBpb24tY29udGVudCB7XHJcbiAgICAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgtMTM1ZGVnLCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKSwgdmFyKC0taW9uLWNvbG9yLWxpZ2h0KSlcclxuICB9XHJcbn1cclxuXHJcbi5wcm9maWxlIHtcclxuICBpb24tY2FyZCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgaW9uLWNhcmQtY29udGVudCB7XHJcbiAgICAgIHBhZGRpbmc6IDMycHg7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxuICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgLy8gcGFkZGluZy1ib3R0b206IDI4cHg7XHJcblxyXG4gICAgICBpbWcge1xyXG4gICAgICAgIGhlaWdodDogMTI4cHg7XHJcbiAgICAgICAgd2lkdGg6IDEyOHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAvLyBtYXJnaW4tdG9wOiAtMTAwcHg7XHJcbiAgICAgICAgYm9yZGVyOiBzb2xpZCA0cHggI2ZmZjtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XHJcbiAgICAgICAgYm94LXNoYWRvdzogMCAwIDI4cHggcmdiYSgyNTUsMjU1LDI1NSwgLjY1KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaDEge1xyXG4gICAgICAgIC8vIGZvbnQtc2l6ZTogMi41cmVtO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IC41cmVtO1xyXG4gICAgICAgIC8vIGNvbG9yOiAjZmZmO1xyXG4gICAgICB9XHJcblxyXG4gICAgLy8gICBoMyB7XHJcbiAgICAvLyAgICAgZm9udC1zaXplOiAxLjhyZW07XHJcbiAgICAvLyAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAvLyAgIH1cclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpb24taXRlbSB7XHJcbiAgICBpb24taW5wdXQge1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXRlcnRpYXJ5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlvbi1idXR0b20ge1xyXG4gICAgYnV0dG9uIHtcclxuICAgICAgbWFyZ2luOiAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnBvc2l0aW9uIHtcclxuICAgIGJvdHRvbTogMDtcclxuICB9XHJcbn1cclxuIiwiOmhvc3QgaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgtMTM1ZGVnLCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKSwgdmFyKC0taW9uLWNvbG9yLWxpZ2h0KSkgO1xufVxuXG4ucHJvZmlsZSBpb24tY2FyZCB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xufVxuLnByb2ZpbGUgaW9uLWNhcmQgaW9uLWNhcmQtY29udGVudCB7XG4gIHBhZGRpbmc6IDMycHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgY29sb3I6ICNmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5wcm9maWxlIGlvbi1jYXJkIGlvbi1jYXJkLWNvbnRlbnQgaW1nIHtcbiAgaGVpZ2h0OiAxMjhweDtcbiAgd2lkdGg6IDEyOHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJvcmRlcjogc29saWQgNHB4ICNmZmY7XG4gIGRpc3BsYXk6IGlubGluZTtcbiAgYm94LXNoYWRvdzogMCAwIDI4cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjY1KTtcbn1cbi5wcm9maWxlIGlvbi1jYXJkIGlvbi1jYXJkLWNvbnRlbnQgaDEge1xuICBtYXJnaW4tdG9wOiAwLjVyZW07XG59XG4ucHJvZmlsZSBpb24taXRlbSBpb24taW5wdXQge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXRlcnRpYXJ5KTtcbn1cbi5wcm9maWxlIGlvbi1idXR0b20gYnV0dG9uIHtcbiAgbWFyZ2luOiAwO1xufVxuLnByb2ZpbGUgLnBvc2l0aW9uIHtcbiAgYm90dG9tOiAwO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController } from '@ionic/angular';\r\nimport { TranslateProvider, AuthService ,AddressService } from '../../providers';\r\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\r\n\r\n@Component({\r\n  selector: 'app-myadress',\r\n  templateUrl: './myadress.page.html',\r\n  styleUrls: ['./myadress.page.scss'],\r\n})\r\nexport class MyAdressPage implements OnInit {\r\n\r\n  address: any[] = [];\r\n  token: any;\r\n  userData: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public loadingCtrl: LoadingController,\r\n    public toastCtrl: ToastController,\r\n    private service: AddressService,\r\n    private auth: AuthService,\r\n    private storage: NativeStorage,\r\n    private translate: TranslateProvider\r\n    ) { }\r\n\r\n  ngOnInit() {\r\n    this.getUserAddress()\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n   this.getUserAddress()\r\n  }\r\n\r\n  async getUserAddress() {\r\n    this.auth.getToken().then(() => {\r\n      if(this.auth.isLoggedIn) {\r\n        this.token = this.auth.token\r\n\r\n      }\r\n    })\r\n    const loading = await this.loadingCtrl.create({\r\n      message: 'Loading...',\r\n      spinner: 'crescent',\r\n      duration: 50000\r\n    });\r\n    await loading.present()\r\n    await this.service.getUserAddress(this.token)\r\n      .subscribe(res => {\r\n        console.log(res)\r\n        this.address = res.content\r\n        this.address = JSON.parse(JSON.stringify(this.address))\r\n        loading.dismiss()\r\n      }, err => {\r\n        console.log(err)\r\n        loading.dismiss()\r\n      });\r\n\r\n      // const toast = await this.toastCtrl.create({\r\n      //   message: 'Définir une adresse de récuperation de la commande ',\r\n      //   duration: 5000,\r\n      //   position: 'top',\r\n      //   closeButtonText: 'OK',\r\n      //   showCloseButton: true\r\n      // })\r\n      // toast.present();\r\n  }\r\n\r\n\r\n  addAddress() {\r\n    this.navCtrl.navigateForward('/add-address')\r\n  }\r\n\r\n  async setDefault(id ,quartier ,ville ,adress,gps_lat,gps_long) {\r\n    this.service.setDefaultAddress(id,this.token).subscribe(res => {\r\n      console.log(res)\r\n      this.storage.setItem('idDefault', id)\r\n      this.storage.setItem('quartierDefault', quartier)\r\n      this.storage.setItem('villeDefault', ville)\r\n      this.storage.setItem('adressDefault', adress)\r\n      this.storage.setItem('gps_lat', gps_lat)\r\n      this.storage.setItem('gps_long', gps_long)\r\n      this.getUserAddress()\r\n    }, err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}